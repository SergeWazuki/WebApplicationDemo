<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <meta charset="utf-8" />
    <title>HTML5 Demo</title>
    <script src="../Scripts/jquery-1.9.1.js"></script>
    <script src="../Scripts/jquery-ui-1.10.3.min.js"></script>
    <script src="../Scripts/jquery-ui-1.10.3.js"></script>
    <script src="../Scripts/knockout-2.2.1.js"></script>
    <script src="../Scripts/modernizr-2.6.2.js"></script>
    <style>
        body, form
        {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
            text-align: center;
        }

        #searchPanelContainer
        {
            float: left;
            width: 30%;
            height: 100%;
            padding: 0;
            text-align: center;
            -moz-background-clip: padding-box;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            -webkit-border-bottom-right-radius: 10px;
            border-bottom-right-radius: 10px;
            -webkit-border-top-right-radius: 10px;
            border-top-right-radius: 10px;
            overflow: hidden;
        }

        #mainPanelContainer
        {
            float: right;
            width: 69%;
            height: auto;
            padding: 0;
            text-align: center;
        }

        /*#commandBarContainer, #drawingPanelContainer
        {
            position: absolute;
            left: 320px;
            min-width: 820px;
        }*/
        #drawingPanelContainer
        {
            height: calc(100% - 60px);
            height: -moz-calc(100% - 60px);
            height: -webkit-calc(100% - 60px);
        }
    </style>
    <script src="../Scripts/Controls/CommandBar.js"></script>
    <script src="../Scripts/Controls/SearchControl.js"></script>
    <script src="../Scripts/Controls/StepDrawing.js"></script>
    <script type="text/javascript">
        /// <reference path="../../Views/Controls/SearchPanel.html" />
        /// <reference path="../../Views/Controls/CommandBar.html" />
        /// <reference path="../../Views/Controls/DrawingPanel.html" />
        $(document).ready(function () {
            $("#searchPanelContainer").load("Controls/SearchPanel.html");
            $("#commandBarContainer").load("Controls/CommandBar.html");
            $("#drawingPanelContainer").load("Controls/DrawingPanel.html");
            function WFDesignerViewModel() {
                this.SearchVM = new SearchViewModel();
                //ko.applyBindingsToDescendants(this.SearchVM, document.getElementById("searchPanelContainer"));
                this.CommandBarVM = new CommandBarViewModel();
            }
            var viewModel = new WFDesignerViewModel();
            ko.applyBindings(viewModel);
            ko.applyBindingsToDescendants(this.SearchVM, document.getElementById("searchPanelContainer"));
            //ko.applyBindings(viewModel.SearchVM, document.getElementById("searchPanelContainer"));
        });
    </script>
</head>
<body>
    <form id="form" runat="server">
        <div id="splitter" style="height: 100%; width: 100%;">
            <div id="searchPanelContainer" data-bind="with: SearchVM"></div>
            <div id="mainPanelContainer">
                <div id="commandBarContainer" style="width: 100%; height: 60px; padding: 0px"></div>
                <div id="drawingPanelContainer" style="width: 100%; height: auto"></div>
            </div>
        </div>
    </form>
</body>
</html>
